<?xml version="1.0"?>

<robot name="agilex_piper" xmlns:xacro="http://www.ros.org/wiki/xacro">

  <xacro:macro name="agilex_piper" params="*origin name=agilex_piper parent=base_link">

    <!-- agilex_piper's root link -->
    <xacro:property name="root_link" value="${name}"/>

    <joint name="${name}_joint" type="fixed">
      <xacro:insert_block name="origin"/>
        <parent link="${parent}"/>
        <child link="${root_link}"/>
    </joint>

    <link name="${root_link}">
      <inertial>
        <origin xyz="-0.00473641164191482 2.56829134630247E-05 0.041451518036016" rpy="0 0 0" />
        <mass value="1.02" />
        <inertia ixx="0.00267433" ixy="-0.00000073" ixz="-0.00017389" iyy="0.00282612" iyz="0.0000004" izz="0.00089624" />
      </inertial>
      <visual>
        <origin xyz="0 0 0" rpy="0 0 0" />
        <geometry>
          <mesh filename="package://piper_bringup/meshes/base_link.STL" />
        </geometry>
        <material name="">
          <color rgba="0.792156862745098 0.819607843137255 0.933333333333333 1" />
        </material>
      </visual>
      <collision>
        <origin xyz="0 0 0" rpy="0 0 0" />
        <geometry>
          <mesh filename="package://piper_bringup/meshes/base_link.STL" />
        </geometry>
      </collision>
    </link>
    <link name="link1">
      <inertial>
        <origin xyz="0.00032 -0.00041 -0.00348" rpy="0 0 0" />
        <mass value="0.71" />
        <inertia ixx="0.00050027" ixy="0.00000078" ixz="0.00000626" iyy="0.00040879" iyz="0.00000462" izz="0.00045802" />
      </inertial>
      <visual>
        <origin xyz="0 0 0" rpy="0 0 0" />
        <geometry>
          <mesh filename="package://piper_bringup/meshes/link1.STL" />
        </geometry>
        <material name="">
          <color rgba="0.792156862745098 0.819607843137255 0.933333333333333 1" />
        </material>
      </visual>
      <collision>
        <origin xyz="0 0 0" rpy="0 0 0" />
        <geometry>
          <mesh filename="package://piper_bringup/meshes/link1.STL" />
        </geometry>
      </collision>
    </link>
    <joint name="joint1" type="revolute">
      <origin xyz="0 0 0.123" rpy="0 0 0" />
      <parent link="${root_link}" />
      <child link="link1" />
      <axis xyz="0 0 1" />
      <limit lower="-2.618" upper="2.618" effort="100" velocity="5" />
    </joint>
    <link name="link2">
      <inertial>
        <origin xyz="0.21852 -0.00861 0.00126" rpy="0 0 0" />
        <mass value="1.16" />
        <inertia ixx="0.00111915" ixy="0.00182916" ixz="0.00019233" iyy="0.06763251" iyz="0.00000767" izz="0.067559" />
      </inertial>
      <visual>
        <origin xyz="0 0 0" rpy="0 0 0" />
        <geometry>
          <mesh filename="package://piper_bringup/meshes/link2.STL" />
        </geometry>
        <material name="">
          <color rgba="0.792156862745098 0.819607843137255 0.933333333333333 1" />
        </material>
      </visual>
      <collision>
        <origin xyz="0 0 0" rpy="0 0 0" />
        <geometry>
          <mesh filename="package://piper_bringup/meshes/link2.STL" />
        </geometry>
      </collision>
    </link>
    <joint name="joint2" type="revolute">
      <origin xyz="0 0 0" rpy="1.5708 -0.10095 -3.1416" />
      <parent link="link1" />
      <child link="link2" />
      <axis xyz="0 0 1" />
      <limit lower="0" upper="3.14" effort="100" velocity="5" />
    </joint>
    <link name="link3">
      <inertial>
        <origin xyz="-0.01999 -0.14808 -0.00053" rpy="0 0 0" />
        <mass value="0.5" />
        <inertia ixx="0.01347608" ixy="0.00161034" ixz="0.00000066" iyy="0.00046377" iyz="0.00000162" izz="0.01363321" />
      </inertial>
      <visual>
        <origin xyz="0 0 0" rpy="0 0 0" />
        <geometry>
          <mesh filename="package://piper_bringup/meshes/link3.STL" />
        </geometry>
        <material name="">
          <color rgba="0.792156862745098 0.819607843137255 0.933333333333333 1" />
        </material>
      </visual>
      <collision>
        <origin xyz="0 0 0" rpy="0 0 0" />
        <geometry>
          <mesh filename="package://piper_bringup/meshes/link3.STL" />
        </geometry>
      </collision>
    </link>
    <joint name="joint3" type="revolute">
      <origin xyz="0.28503 0 0" rpy="0 0 -1.759" />
      <parent link="link2" />
      <child link="link3" />
      <axis xyz="0 0 1" />
      <limit lower="-2.967" upper="0" effort="100" velocity="5" />
    </joint>
    <link name="link4">
      <inertial>
        <origin xyz="0.00013 -0.00076 -0.00394" rpy="0 0 0" />
        <mass value="0.38" />
        <inertia ixx="0.00017844" ixy="0.00000062" ixz="0.00000067" iyy="0.00018914" iyz="0.00000408" izz="0.00014613" />
      </inertial>
      <visual>
        <origin xyz="0 0 0" rpy="0 0 0" />
        <geometry>
          <mesh filename="package://piper_bringup/meshes/link4.STL" />
        </geometry>
        <material name="">
          <color rgba="0.792156862745098 0.819607843137255 0.933333333333333 1" />
        </material>
      </visual>
      <collision>
        <origin xyz="0 0 0" rpy="0 0 0" />
        <geometry>
          <mesh filename="package://piper_bringup/meshes/link4.STL" />
        </geometry>
      </collision>
    </link>
    <joint name="joint4" type="revolute">
      <origin xyz="-0.021984 -0.25075 0" rpy="1.5708 0 0" />
      <parent link="link3" />
      <child link="link4" />
      <axis xyz="0 0 1" />
      <limit lower="-1.745" upper="1.745" effort="100" velocity="5" />
    </joint>
    <link name="link5">
      <inertial>
        <origin xyz="0.00018 -0.06104 -0.00227" rpy="0 0 0" />
        <mass value="0.39" />
        <inertia ixx="0.00172318" ixy="0.00000259" ixz="0.00000010" iyy="0.00017936" iyz="0.00000990" izz="0.00171172" />
      </inertial>
      <visual>
        <origin xyz="0 0 0" rpy="0 0 0" />
        <geometry>
          <mesh filename="package://piper_bringup/meshes/link5.STL" />
        </geometry>
        <material name="">
          <color rgba="0.792156862745098 0.819607843137255 0.933333333333333 1" />
        </material>
      </visual>
      <collision>
        <origin xyz="0 0 0" rpy="0 0 0" />
        <geometry>
          <mesh filename="package://piper_bringup/meshes/link5.STL" />
        </geometry>
      </collision>
    </link>
    <joint name="joint5" type="revolute">
      <origin xyz="0 0 0" rpy="-1.5708 0 0" />
      <parent link="link4" />
      <child link="link5" />
      <axis xyz="0 0 1" />
      <limit lower="-1.22" upper="1.22" effort="100" velocity="5" />
    </joint>
    <link name="link6">
      <inertial>
        <origin xyz="-0.00003 0.00006 0.04618" rpy="0 0 0" />
        <mass value="0.46" />
        <inertia ixx="0.00152112" ixy="0.00000202" ixz="0.00000261" iyy="0.00138626" iyz="0.00000002" izz="0.00031152" />
      </inertial>
      <visual>
        <origin xyz="0 0 0" rpy="0 0 0" />
        <geometry>
          <mesh filename="package://piper_bringup/meshes/link6.STL" />
        </geometry>
        <material name="">
          <color rgba="0.898039215686275 0.917647058823529 0.929411764705882 1" />
        </material>
      </visual>
      <collision>
        <origin xyz="0 0 0" rpy="0 0 0" />
        <geometry>
          <mesh filename="package://piper_bringup/meshes/link6.STL" />
        </geometry>
      </collision>
    </link>
    <joint name="joint6" type="revolute">
      <origin xyz="8.8259E-05 -0.091 0" rpy="1.5708 0 0" />
      <parent link="link5" />
      <child link="link6" />
      <axis xyz="0 0 1" />
      <limit lower="-2.0944" upper="2.0944" effort="100" velocity="5" />
    </joint>
  </xacro:macro>
</robot>
